# PR Reviewer Assignment Service (version: 1.0.0)

Реализация тестового задания на стажировку в Авито Тех. Пожалуйста, перед тем, как начинать тестировать мою систему,
внимательно прочитайте всё README.

### Как проверяющим протестировать мою работу?

1. Создайте .env файл и заполните его переменными окружения. Пример переменных окружения вы можете взять в файле
   .env.example
2. Запустите сервис командой. В файлах уже настроен маппинг портов, убедитесь что Go-приложение стартует не верном
   порте.

```bash
   docker-compose --file docker-compose.dev.yaml up
```

### Вопросы

По мере разработки данной системы я задавался следующими вопросами:

1. Может ли пользователь состоять в нескольких командах сразу? Я посчитал, что нет. Иначе следовало бы создавать связь
   многие ко многим в схеме базы данных и делать пользователя на уровне домена независимой структурой от команды.
2. Насколько нужно важна атомарность методов в этой системе? Атомарные проверки во многих местах можно опустить из-за
   объема данных и RPS (до 20 команд и до 200 пользователей, 5 RPS). Атомарные методы важны только в местах, где нам
   требуется условие "Все, или ничего" - например, при создании команд и пользователей.
3. Может ли автор быть ревьюером своего же ПР? - Нет.
4. В OpenAPI есть токены, но нет эндпоинтов - как быть с авторизацией? Генерацию токенов опустить, добавить миддлвару
   для проверки токенов, а токены выдать проверяющим.

### Объяснения некоторых моих решений

1. Я не использую DEFAULT в схемах базы данных, потому, что принял решение о четком разделении ответственности.
   Хранилище должно хранить данные, но не создавать их само. Заполнением хранилища занимается слой репозиториев.
2. Я принял решение использовать UUID v4, а не просто "u2" или "u1" для увеличения селективности колонок для индексов (
   индексы, которые создаются при Primary Key) с идентификаторами в базе данных. Использование UUID не нарушает OpenAPI,
   так как UUID на входе - также строка.